recipe take @s wpz:rapiers/diamond

advancement revoke @s only wpz:recipes/rapiers/diamond

give @s diamond_sword{display:{Name:'{"text":"Diamond Rapier","italic":false}'},CustomModelData:3,DiamondRapier:1b,Rapier:1b} 1

clear @s knowledge_book